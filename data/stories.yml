version: "3.1"

stories:

- story: happy path
  steps:
  - intent: greet
  - action: utter_greet
  - intent: mood_great
  - action: utter_happy

- story: sad path 1
  steps:
  - intent: greet
  - action: utter_greet
  - intent: mood_unhappy
  - action: utter_cheer_up
  - action: utter_did_that_help
  - intent: affirm
  - action: utter_happy

- story: sad path 2
  steps:
  - intent: greet
  - action: utter_greet
  - intent: mood_unhappy
  - action: utter_cheer_up
  - action: utter_did_that_help
  - intent: deny
  - action: utter_goodbye


- story: Congratulate the user on completing the intro form and then ask about setting a commitment
  steps:
    - intent: start_introduction_form
    - action: utter_introduction
    - action: introduction_form
    - active_loop: null
    - action: utter_intro_congratulations
    - action: utter_question_commitment
    - intent: affirm
    - action: commitment_form
    - active_loop: commitment_form
    - active_loop: null
    - action: action_save_commitment
    - action: utter_explain_role
    - action: action_smoking_tracker

- story: activate intro form and deny commitment
  steps:
    - intent: start_introduction_form
    - action: utter_introduction
    - action: introduction_form
    - active_loop: introduction_form
    - active_loop: null
    - action: utter_intro_congratulations
    - action: utter_question_commitment
    - intent: deny
    - action: utter_no_commitment
    - action: utter_explain_role
    - action: action_smoking_tracker

- story: user reports that they smoked and chooses activity practise(no audio)
  steps:
    - intent: relapsed
    - action: utter_support_message_1
    - action: utter_relapse_form
    - intent: affirm
    - action: relapse_form
    - active_loop: relapse_form
    - active_loop: null
    - action: utter_relapse_completion
    - action: utter_choose_activity
    - intent: choose_activity
    - action: utter_audio
    - intent: deny
    - action: action_handle_activity_type_no_audio
    - action: utter_activity_completion
    
- story: user chooses an activity after they had reported smoking(audio)
  steps:
    - intent: relapsed
    - action: utter_support_message_1
    - action: utter_relapse_form
    - intent: affirm
    - action: relapse_form
    - active_loop: relapse_form
    - active_loop: null
    - action: utter_relapse_completion
    - action: utter_choose_activity
    - intent: choose_activity
    - action: utter_audio
    - intent: affirm
    - action: action_handle_activity_type
    - action: utter_activity_completion

- story: user denies an activity after they had reported smoking
  steps:
    - intent: relapsed
    - action: utter_support_message_1
    - action: utter_relapse_form
    - intent: affirm
    - action: relapse_form
    - active_loop: relapse_form
    - active_loop: null
    - action: utter_relapse_completion
    - action: utter_choose_activity
    - intent: deny
    - action: utter_no_activity_smoking
    

- story: user reports a craving and chooses activity (no audio)
  steps:
    - intent: craving
    - action: utter_support_message_craving
    - action: utter_ask_choose_activity
    - intent: affirm
    - action: utter_choose_activity
    - intent: choose_activity
    - action: utter_audio
    - intent: deny
    - action: action_handle_activity_type_no_audio
    - action: utter_activity_completion
  

- story: user denies an activty after reported craving
  steps:
    - intent: craving
    - action: utter_support_message_craving
    - action: utter_ask_choose_activity
    - intent: deny
    - action: utter_no_activity_craving

- story: user chooses an activty after reported craving(audio)/happy path
  steps:
    - intent: craving
    - action: utter_support_message_craving
    - action: utter_ask_choose_activity
    - intent: affirm
    - action: utter_choose_activity
    - intent: choose_activity
    - action: utter_audio
    - intent: affirm
    - action: action_handle_activity_type
    - action: utter_activity_completion

- story: request meditation with no audio
  steps:
    - intent: perform_meditation
    - action: utter_choose_meditation
    - intent: choose_activity
    - slot_was_set:
      - meditation_type
    - action: utter_audio
    - intent: deny
    - action: action_handle_activity_type_no_audio
    - action: utter_activity_completion

- story: request meditation with audio
  steps:
    - intent: perform_meditation
    - action: utter_choose_meditation
    - intent: choose_activity
    - slot_was_set:
      - meditation_type
    - action: utter_audio
    - intent: affirm
    - action: action_handle_activity_type
    - action: utter_activity_completion

- story: request breathwork with no audio
  steps:
    - intent: perform_breathwork
    - action: utter_choose_breathwork
    - intent: choose_activity
    - slot_was_set:
      - breathwork_type
    - action: utter_audio
    - intent: deny
    - action: action_handle_activity_type
    - action: utter_activity_completion

- story: request breathwork with audio
  steps:
    - intent: perform_breathwork
    - action: utter_choose_breathwork
    - intent: choose_activity
    - slot_was_set:
      - breathwork_type
    - action: utter_audio
    - intent: affirm
    - action: action_handle_activity_type
    - action: utter_activity_completion

- story: request tobacco information
  steps:
    - intent: request_tobacco_information
    - action: utter_tobacco_info

- story: request nicotine information
  steps:
    - intent: what_is_nicotine
    - action: utter_what_nicotine_is

- story: provide quit tips when asked.
  steps:
    - intent: ask_for_quit_tips
    - action: utter_quit_tips

- story: user asks to see progress
  steps:
  - intent: show_tracker
  - action: action_show_tracker


# - story: interactive_story_1
#   steps:
#   - intent: start_introduction_form
#   - action: utter_introduction
#   - action: introduction_form
#   - active_loop: introduction_form
#   - slot_was_set:
#     - requested_slot: name
#   - intent: affirm
#   - slot_was_set:
#     - name: Jahray
#   - action: introduction_form
#   - slot_was_set:
#     - name: Jahray
#   - slot_was_set:
#     - requested_slot: length_of_addiction
#   - intent: affirm
#   - slot_was_set:
#     - length_of_addiction: 2 weeks
#   - action: introduction_form
#   - slot_was_set:
#     - length_of_addiction: 2 weeks
#   - slot_was_set:
#     - requested_slot: money_spent
#   - intent: affirm
#   - slot_was_set:
#     - money_spent: '14'
#   - action: introduction_form
#   - slot_was_set:
#     - money_spent: 14.0
#   - slot_was_set:
#     - requested_slot: reasons_for_change
#   - intent: mood_great
#   - slot_was_set:
#     - reasons_for_change: My family
#   - action: introduction_form
#   - slot_was_set:
#     - reasons_for_change: My family
#   - slot_was_set:
#     - requested_slot: null
#   - active_loop: null
#   - action: utter_intro_congratulations
#   - action: utter_ask_set_commitment
#   - intent: affirm
#   - action: commitment_form
#   - active_loop: commitment_form
#   - slot_was_set:
#     - requested_slot: set_commitment
#   - intent: mood_great
#   - slot_was_set:
#     - set_commitment:
#       - I am going to quit smoking and become healthier
#   - action: commitment_form
#   - slot_was_set:
#     - requested_slot: null
#   - active_loop: null
#   - action: action_save_commitment
#   - slot_was_set:
#     - set_commitment: I am going to quit smoking and become healthier
